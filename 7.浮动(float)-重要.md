# 浮动(float)

## 传统网页布局的三种方式

CSS提供了三种传统布局方式（简单来说，就是盒子如何进行排列顺序）：

- 普通流（标准流）
- 浮动
- 定位

## 标准流（普通流/文档流）

所谓的标准流：就是标签按照规定好默认方式排列。

1. 块级元素会独占一行，从上向下顺序排列
   - 常用元素： div、hr、p、h1~h6、ul、ol、dl、form、table
2. 行内元素会按照顺序，从左到右顺序排列，碰到父元素边缘则自动换行
   - 常用元素：span、a、i、em等

以上都是标准流布局，标准流是最基本的布局方式。

## 为什么需要浮动

我们用标准流能很方便地实现如下效果吗？

1. 如何让多个块级盒子(div)水平排列成一行
   - 比较南，虽然转换为行内块元素可以实现一行显示，但是他们之间会有大的空白间隙，很难控制
2. 如何实现两个盒子的左右对齐，即一个靠最左，一个靠最右
   - emmm

总结：

- 有很多的布局效果，标准流没有方法完成，此时可以利用浮动完成布局。因为浮动可以改变元素标签默认的排列方式。

浮动最典型的应用：

- 可以让多个块级元素一行内排列显示

**网页布局第一准则：多个块级元素纵向排列找标准流，多个块级元素横向排列找浮动**

## 什么是浮动

float属性用于创建浮动框，将其移动到一边，知道左边缘或者右边缘触及包含快或另一个浮动框的边缘。

语法：

```css
选择器 {float: 属性值；}
```

| 属性值 | 描述                 |
| ------ | -------------------- |
| none   | 元素不浮动（默认值） |
| left   | 元素向左浮动         |
| right  | 元素向右浮动         |

## 浮动特性（重难点）

加了浮动之后的元素，会具有很多特性。

1. 浮动元素会脱离标准流（脱标）

   - **浮动的盒子不再保留原先的位置**
   - **会飘起来压住其他盒子**

2. 浮动的元素会一行内显示并且元素顶部对齐

   - 浮动的元素是互相贴靠在一起的（不会有缝隙），如果父级宽度装不下这些浮动的盒子，多出的盒子会另起一行对齐。

3. 浮动的元素会具有行内块元素的特性

   - 任何元素都可以浮动。不管原先是什么模式的元素，添加浮动之后具有行内块元素相似的特性
- 如果块级盒子没有设置宽度，默认宽度和父级一样宽，但是添加浮动之后，它的大小根据内容来决定
   - 浮动盒子中间没有缝隙
   - 行内元素同理

## 浮动元素搭配标准流父级使用

为了约束浮动元素的位置，我们网页布局一般采取的策略是：

先用标准流的父元素排列上下位置，之后内部子元素采取浮动排列左右位置。符合网页布局第一准则。

第二准则：先设置大小，再设置位置

## 浮动元素的注意点

1. 浮动和标准流的父盒子搭配
2. 一个元素浮动了，理论上其余的兄弟元素也要浮动
3. 浮动的盒子只会影响浮动盒子后面的标准流，不会影响前面的标准流

## 清除浮动

### 为什么需要清除浮动

由于父级盒子很多情况下，不方便给高度，但是子盒子浮动又布占有位置，最后父级盒子高度为0时，就会影响下面的标准流盒子。

- 由于浮动元素不再占用原文档流的位置，所以它会对后面的元素排版产生影响

### 清除浮动的本质

- 清除浮动元素造成的影响
- 如果父盒子本身有高度，则不需要清除浮动
- 清除浮动之后，父级元素就会根据浮动的子盒子自动检测高度。父级元素有了高度，就不会影响下面的标准流了

### 语法

```css
选择器 {clear：属性值；}
```

| 属性值 | 描述                                       |
| ------ | ------------------------------------------ |
| left   | 不允许左侧有浮动元素（清除左侧浮动的影响） |
| right  | 不允许右侧有浮动元素（清除右侧浮动的影响） |
| both   | 同时清除两侧浮动的影响                     |

我们在实际工作中，几乎只用clear:both;

**清除浮动的策略是：闭合浮动**

### 方法

1. 额外标签法，也称隔墙法，是W3C推荐的做法

   - 在浮动元素末尾添加一个空标签。例如
   ```css
     <div style="clear: both"></div>
   ```
     或者其他元素如\<br/\>

   - 优点：通俗易懂，书写方便

   - 缺点：添加许多无意义的标签，结构化较差
   - 注意：添加的标签必须是块级元素

2. 父元素添加overflow属性

   - 给父级添加overflow属性，将其属性值设置为hidden、auto、scroll
   - 优点：代码简洁
   - 缺点：无法显示溢出的部分

3. 父元素添加：after伪元素

   - 是额外标签法的升级版。也是给父元素添加。注意不是写在最后了，是给父元素添加。

   - 语法：

     ```css
     .clearfix:after {
         content: "";
         display: block;
         height: 0;
         clear: both;
         visibility: hidden;
     }
     .clearfix{ /* IE6、7专有*/
         *zoom: 1;
     }
     ```

   - 优点：没有增加标签，结构更简单
   - 缺点：照顾低版本浏览器
   - 代表网站：百度、淘宝、网易等

4. 父级添加双伪元素

   - 也是给父元素添加

   - 语法：

     ```css
     .clearfix:before,.clearfix:after:{
         content:"";
         display:table;
     }
     .clearfix:after {
         clear:both;
     }
     .clearfix{
         *zoom:1;
     }
     ```

   - 优点：代码更简洁
   - 缺点：照顾低版本浏览器
   - 代表网站：小米、腾讯等

